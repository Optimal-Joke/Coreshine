from astropy.io import fits
from astropy.table import Table
import numpy as np
import matplotlib.pyplot as plt

image_file = input("filepath:")


hdu_list = fits.open(image_file, memmap=True)
evt_data = Table(hdu_list[1].data)


bins = input("nbins=")
try:
    NBINS = int(bins)
except ValueError:
    NBINS = "auto"

energy_hist = plt.hist(evt_data['energy'], bins=NBINS)
plt.xlabel("Energy (eV)")
plt.ylabel("Count")
plt.show()
